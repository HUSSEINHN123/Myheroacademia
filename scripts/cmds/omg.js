const axios = require("axios"); const TinyURL = require('tinyurl');  module.exports = {   config: {     name: "بطاقة",     version: "1.0",     author: "Samir Œ",     shortDescription: "قم بإنشاء بطاقة جين شين إمباكت",    longDescription: "قم بإنشاء بطاقة جين شيب تحتوي على الإسم و تاريخ الإزدياد و الوصف",     category: "متعة",     guide: "{prefix}بطاقة <الإسم> | <تاريخ الإزدياد> | <الوصف>"   },    onStart: async function ({ api,event, message, usersData, args }) {     const userInfo = args.join(" ").split("|").map((info) => info.trim());      if (userInfo.length !== 3) {       api.sendMessage(" ⚠️ | إستخدام غير صالح . إستخدم `{prefix}بطاقة <الإسم> | <تاريخ الإزدياد> | <الوصف>`", event.threadID);       return;     }      const [username, birthday, description] = userInfo;      try {       const uid = event.senderID;       const avt = await usersData.getAvatarUrl(uid);        const shortLink = await TinyURL.shorten(avt);       const like = `https://api-samir.onrender.com/telegraph?url=${encodeURIComponent(shortLink)}&senderId=${event.senderID}`;        try {         let response = await axios.get(like);         let link = response.data.result.link;          const imageUrl = `https://api-samir.onrender.com/genshin/namecard?avatar=${link}&birthday=${encodeURIComponent(birthday)}&username=${encodeURIComponent(username)}&description=${encodeURIComponent(description)}`;          message.reply({           body: "🄶🄴🄽🅂🄷🄸🄽 🄸🄼🄿🄰🄲🅃",           attachment: await global.utils.getStreamFromURL(imageUrl)         });       } catch (error) {         console.error(error);         api.sendMessage(" ❌ |حدث خطأ أثناء إنشاء بطاقة Genshin Impact.", event.threadID);       }     } catch (error) {       console.error(error);       api.sendMessage(" ❌ |حدث خطأ أثناء جلب معلومات المستخدم.", event.threadID);     }   } };